<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,IE=9,chrome=1"><meta name="generator" content="MATLAB 2024a"><title>QMol_SE_profiler</title><style type="text/css">.rtcContent { padding: 30px; } .S0 { margin: 3px 10px 5px 4px; padding: 0px; line-height: 28.8px; min-height: 0px; white-space: pre-wrap; color: rgb(192, 76, 11); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 24px; font-weight: 400; text-align: left;  }
.S1 { margin: 2px 10px 9px 4px; padding: 0px; line-height: 21px; min-height: 0px; white-space: pre-wrap; color: rgb(33, 33, 33); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 14px; font-weight: 400; text-align: left;  }
.S2 { margin: 20px 10px 5px 4px; padding: 0px; line-height: 20px; min-height: 0px; white-space: pre-wrap; color: rgb(33, 33, 33); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 20px; font-weight: 700; text-align: left;  }
.CodeBlock { background-color: #F5F5F5; margin: 10px 15px 10px 0; display: inline-block }
.S3 { border-left: 0.666667px solid rgb(217, 217, 217); border-right: 0.666667px solid rgb(217, 217, 217); border-top: 0.666667px solid rgb(217, 217, 217); border-bottom: 0px none rgb(33, 33, 33); border-radius: 4px 4px 0px 0px; padding: 6px 45px 0px 13px; line-height: 18.004px; min-height: 0px; white-space: nowrap; color: rgb(33, 33, 33); font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 14px;  }
.S4 { border-left: 0.666667px solid rgb(217, 217, 217); border-right: 0.666667px solid rgb(217, 217, 217); border-top: 0px none rgb(33, 33, 33); border-bottom: 0.666667px solid rgb(217, 217, 217); border-radius: 0px 0px 4px 4px; padding: 0px 45px 4px 13px; line-height: 18.004px; min-height: 0px; white-space: nowrap; color: rgb(33, 33, 33); font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 14px;  }
.S5 { margin: 10px 0px 20px; padding-left: 0px; font-family: Helvetica, Arial, sans-serif; font-size: 14px;  }
.S6 { margin-left: 56px; line-height: 21px; min-height: 0px; text-align: left; white-space: pre-wrap;  }
.S7 { border-left: 0.666667px solid rgb(217, 217, 217); border-right: 0.666667px solid rgb(217, 217, 217); border-top: 0.666667px solid rgb(217, 217, 217); border-bottom: 0.666667px solid rgb(217, 217, 217); border-radius: 4px; padding: 6px 45px 4px 13px; line-height: 18.004px; min-height: 0px; white-space: nowrap; color: rgb(33, 33, 33); font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 14px;  }
.S8 { margin: 15px 10px 5px 4px; padding: 0px; line-height: 18px; min-height: 0px; white-space: pre-wrap; color: rgb(33, 33, 33); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 17px; font-weight: 700; text-align: left;  }
.S9 { border-left: 0.666667px solid rgb(217, 217, 217); border-right: 0.666667px solid rgb(217, 217, 217); border-top: 0px none rgb(33, 33, 33); border-bottom: 0px none rgb(33, 33, 33); border-radius: 0px; padding: 0px 45px 0px 13px; line-height: 18.004px; min-height: 0px; white-space: nowrap; color: rgb(33, 33, 33); font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 14px;  }
.S10 { margin: 10px 10px 9px 4px; padding: 0px; line-height: 21px; min-height: 0px; white-space: pre-wrap; color: rgb(33, 33, 33); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 14px; font-weight: 400; text-align: left;  }
.S11 { border-left: 0px none rgb(33, 33, 33); border-right: 0px none rgb(33, 33, 33); border-top: 0px none rgb(33, 33, 33); border-bottom: 0px none rgb(33, 33, 33); border-radius: 0px; padding: 0px; line-height: 15.6px; min-height: 16px; white-space: pre; color: rgb(33, 33, 33); font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 12px;  }
.S12 { margin: 10px 10px 5px 4px; padding: 0px; line-height: 18px; min-height: 0px; white-space: pre-wrap; color: rgb(33, 33, 33); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 15px; font-weight: 700; text-align: left;  }</style></head><body><div class = rtcContent><h1  class = 'S0'><span style=' font-family: monospace;'>QMol_SE_profiler</span></h1><div  class = 'S1'><span>Memory and execution-time profiler for Schrodinger-equation models.</span></div><h2  class = 'S2'><span>Description</span></h2><div  class = 'S1'><span>Use </span><span style=' font-family: monospace;'>QMol_SE_profiler</span><span> to estimate the memory footprint and execution time of a Schrodinger-equation (SE) model or component.</span></div><h2  class = 'S2'><span>Use</span></h2><div  class = 'S1'><span>Run the memory and execution-time profiling with either</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S3'><span style="white-space: pre"><span >QMol_SE_profiler(QM);</span></span></div></div><div class="inlineWrapper"><div  class = 'S4'><span style="white-space: pre"><span >QMol_SE_profiler(QM,</span><span style="color: #a709f5;">'all'</span><span >);</span></span></div></div></div><ul  class = 'S5'><li  class = 'S6'><span style=' font-family: monospace;'>QM</span><span> is any of a (TD)SE model or potential objects.</span></li><li  class = 'S6'><span>The requirements and side effects as for both memory-only and execution-time-only modes detailed next.</span></li><li  class = 'S6'><span>Note that for TDSE object only the memory footprint, and not the execution time, is estimated.</span></li></ul><div  class = 'S1'><span>Run only the memory profiling component with</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S7'><span style="white-space: pre"><span >QMol_SE_profiler(QM,</span><span style="color: #a709f5;">'memory'</span><span >);</span></span></div></div></div><ul  class = 'S5'><li  class = 'S6'><span style=' font-style: italic;'>Schrodinger-equation model case:</span><span> If </span><span style=' font-family: monospace;'>QM</span><span> is a SE model object (</span><a href = "./QMol_SE.html"><span style=' font-family: monospace;'>QMol_SE</span></a><span>), it should define a proper discretization domain (explicitly or implicitly) and potential; However, it does not need to be initialized before running the memory profiling. The memory profiling uses the object's </span><span style=' font-family: monospace;'>getMemoryProfile</span><span> method and has its side effects: all the Schrodinger-equation-model properties are left unchanged while run-time properties may be altered. Notably, if the object was not initialized (</span><span style=' font-family: monospace;'>isInitialized = false</span><span>), </span><span style=' font-family: monospace;'>getMemoryProfile</span><span> </span><span style=' font-family: monospace;'>reset</span><span>s the object.</span></li><li  class = 'S6'><span style=' font-style: italic;'>Schrodinger-equation component case:</span><span> If </span><span style=' font-family: monospace;'>QM</span><span> is a potential object, it must be initialized (with a SE component -- see the respective documentation pages for details).</span></li><li  class = 'S6'><span style=' font-style: italic;'>TDSE propagator case:</span><span> if QM is a TDSE propagator object, it should define a full Schrodinger-equation model, which is initialized before performing the memory profiling. </span></li><li  class = 'S6'><span>In all cases, not all the listed components may be used in actual simulations and the memory estimate tries to be conservative. On the other hand, it only includes the discretization of member components on the domain grid and ignores other (small) properties.</span></li></ul><div  class = 'S1'><span>Run only the execution-time profiling component with</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S7'><span style="white-space: pre"><span >QMol_SE_profiler(QM,</span><span style="color: #a709f5;">'time'</span><span >);</span></span></div></div></div><ul  class = 'S5'><li  class = 'S6'><span style=' font-style: italic;'>Schrodinger-equation model case:</span><span> If </span><span style=' font-family: monospace;'>QM</span><span> is a SE model object (</span><a href = "./QMol_SE.html"><span style=' font-family: monospace;'>QMol_SE</span></a><span>), it should define a proper discretization domain (explcitly or implicitly) and potential; However, it does not need to be initialized before running the memory profiling. The execution-time profiling initializes the object and returns it initialized.</span></li><li  class = 'S6'><span style=' font-style: italic;'>Schrodinger-equation component case:</span><span> If </span><span style=' font-family: monospace;'>QM</span><span> is a potential object, it must be initialized (with a SE component -- see the respective documentation pages for details). The execution-time profiling initialized the parent SE component (</span><span style=' font-family: monospace;'>QM.SE.initialize</span><span>).</span></li><li  class = 'S6'><span style=' font-style: italic;'>TDSE propagator case:</span><span> no execution time profiling is available for TDSE propagators. Run an actual TDSE propagation (over a short time interval) to get an estimate.</span></li></ul><div  class = 'S1'><span>The execution-time profiling is performed by running each listed operation a certain number of times and retunrs the average elapsed time to do so. The default number of iterations is defined internally based on the dimension of the model. Overwrite this default values and specify the number of iterations </span><span style=' font-family: monospace;'>nbIter</span><span> with</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S3'><span style="white-space: pre"><span >QMol_SE_profiler(QM,</span><span style="color: #a709f5;">'all'</span><span >,nbIter);     </span><span style="color: #008013;">% Both memory and time profiling</span></span></div></div><div class="inlineWrapper"><div  class = 'S4'><span style="white-space: pre"><span >QMol_SE_profiler(QM,</span><span style="color: #a709f5;">'time'</span><span >,nbIter);    </span><span style="color: #008013;">% Execution-time profiling only</span></span></div></div></div><h2  class = 'S2'><span>Examples</span></h2><h3  class = 'S8' id = 'H_9E118FF3' ><span>Schrodinger-equation model</span></h3><div  class = 'S1'><span>Create a Schrodinger-equation model with</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S3'><span style="white-space: pre"><span style="color: #008013;">% Domain</span></span></div></div><div class="inlineWrapper"><div  class = 'S9'><span style="white-space: pre"><span >x   =   -200:.1:150;</span></span></div></div><div class="inlineWrapper"><div  class = 'S9'>&nbsp;</div></div><div class="inlineWrapper"><div  class = 'S9'><span style="white-space: pre"><span style="color: #008013;">% Molecular model</span></span></div></div><div class="inlineWrapper"><div  class = 'S9'><span style="white-space: pre"><span >A1  =   QMol_Va_softCoulomb(</span><span style="color: #a709f5;">'name'</span><span >,</span><span style="color: #a709f5;">'atom 1'</span><span >,</span><span style="color: #a709f5;">'charge'</span><span >,3,</span><span style="color: #a709f5;">'position'</span><span >,-3);</span></span></div></div><div class="inlineWrapper"><div  class = 'S9'><span style="white-space: pre"><span >A2  =   QMol_Va_softCoulomb(</span><span style="color: #a709f5;">'name'</span><span >,</span><span style="color: #a709f5;">'atom 2'</span><span >,</span><span style="color: #a709f5;">'charge'</span><span >,3,</span><span style="color: #a709f5;">'position'</span><span >,0);</span></span></div></div><div class="inlineWrapper"><div  class = 'S9'><span style="white-space: pre"><span >A3  =   QMol_Va_softCoulomb(</span><span style="color: #a709f5;">'name'</span><span >,</span><span style="color: #a709f5;">'atom 3'</span><span >,</span><span style="color: #a709f5;">'charge'</span><span >,3,</span><span style="color: #a709f5;">'position'</span><span >,2);</span></span></div></div><div class="inlineWrapper"><div  class = 'S9'>&nbsp;</div></div><div class="inlineWrapper"><div  class = 'S9'><span style="white-space: pre"><span style="color: #008013;">% Schrodinger-equation model</span></span></div></div><div class="inlineWrapper"><div  class = 'S9'><span style="white-space: pre"><span >V   =   QMol_SE_V(</span><span style="color: #a709f5;">'atom'</span><span >,{A1,A2,A2});</span></span></div></div><div class="inlineWrapper"><div  class = 'S9'>&nbsp;</div></div><div class="inlineWrapper"><div  class = 'S9'><span style="white-space: pre"><span >SE  =   QMol_SE(                        </span><span style="color: #0e00ff;">...</span></span></div></div><div class="inlineWrapper"><div  class = 'S9'><span style="white-space: pre"><span >            </span><span style="color: #a709f5;">'xspan'</span><span >,                x,  </span><span style="color: #0e00ff;">...</span></span></div></div><div class="inlineWrapper"><div  class = 'S9'><span style="white-space: pre"><span >            </span><span style="color: #a709f5;">'numberWavefunction'</span><span >,   4,  </span><span style="color: #0e00ff;">...</span></span></div></div><div class="inlineWrapper"><div  class = 'S4'><span style="white-space: pre"><span >            </span><span style="color: #a709f5;">'potential'</span><span >,            V);</span></span></div></div></div><div  class = 'S10'><span>Run a full (memory + execution-time) profiling</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S7'><span style="white-space: pre"><span >QMol_SE_profiler(SE);</span></span></div></div></div><div  class = 'S10'><span>yielding</span></div><div class = 'preformatted-plain' style = 'margin: 10px 3px 10px 55px; padding: 10px 10px 10px 5px; '><div  class = 'S11'><span style="white-space: pre"><span >=== Memory footprint =====================================================</span></span></div><div  class = 'S11'><span style="white-space: pre"><span >  Components                                                    -- Size --</span></span></div><div  class = 'S11'><span style="white-space: pre"><span >  * Domain discretization                                        </span></span></div><div  class = 'S11'><span style="white-space: pre"><span >    &gt; domain                                                       27.4 KB</span></span></div><div  class = 'S11'><span style="white-space: pre"><span >    &gt; gradient                                                     54.7 KB</span></span></div><div  class = 'S11'><span style="white-space: pre"><span >    &gt; Laplacian                                                    27.4 KB</span></span></div><div  class = 'S11'><span style="white-space: pre"><span >    &gt; Laplacian (velocity gauge)                                   54.7 KB</span></span></div><div  class = 'S11'><span style="white-space: pre"><span >  * Wave function(s)                                              218.8 KB</span></span></div><div  class = 'S11'><span style="white-space: pre"><span >  * Potential                                                    </span></span></div><div  class = 'S11'><span style="white-space: pre"><span >    &gt; potential                                                    27.4 KB</span></span></div><div  class = 'S11'><span style="white-space: pre"><span >    &gt; potential gradient                                           27.4 KB</span></span></div><div  class = 'S11'><span style="white-space: pre"><span >                                                                ----------</span></span></div><div  class = 'S11'><span style="white-space: pre"><span >                                                        TOTAL =   437.6 KB</span></span></div><div  class = 'S11'>&nbsp;</div><div  class = 'S11'><span style="white-space: pre"><span >=== Execution time =======================================================</span></span></div><div  class = 'S11'><span style="white-space: pre"><span >  Operator components                                           -- Time --</span></span></div><div  class = 'S11'><span style="white-space: pre"><span >  * Hamiltonian                                  4 x 2.23e-04 = 8.92e-04 s</span></span></div><div  class = 'S11'>&nbsp;</div><div  class = 'S11'><span style="white-space: pre"><span >  * Kinetic                                      4 x 2.06e-04 = 8.22e-04 s</span></span></div><div  class = 'S11'><span style="white-space: pre"><span >  * Potential                                    4 x 2.05e-05 = 8.20e-05 s</span></span></div><div  class = 'S11'><span style="white-space: pre"><span >                                                                ----------</span></span></div><div  class = 'S11'><span style="white-space: pre"><span >                                                        TOTAL = 9.04e-04 s</span></span></div><div  class = 'S11'>&nbsp;</div><div  class = 'S11'><span style="white-space: pre"><span >  (average times over 500 iterations)</span></span></div><div  class = 'S11'>&nbsp;</div><div  class = 'S11'><span style="white-space: pre"><span >##########################################################################</span></span></div></div><h2  class = 'S2'><span>Test suite</span></h2><div  class = 'S1'><span>Run the test suite for the class in normal or </span><a href = "./Test_suite.html"><span>summary mode</span></a><span> respectively with</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S3'><span style="white-space: pre"><span >QMol_test.test(</span><span style="color: #a709f5;">'SE_profiler'</span><span >);</span></span></div></div><div class="inlineWrapper"><div  class = 'S4'><span style="white-space: pre"><span >QMol_test.test(</span><span style="color: #a709f5;">'-summary'</span><span >,</span><span style="color: #a709f5;">'SE_profiler'</span><span >);</span></span></div></div></div><h2  class = 'S2'><span>For developers</span></h2><div  class = 'S1'><span style=' font-family: monospace;'>QMol_SE_profiler</span><span> hard-codes the size of double-precision floats, which seem to be fixed to 8-bits per MATLAB documentation. If this comes to change, the values need be updated in the </span><span style=' font-family: monospace;'>getMemoryFootprint</span><span> method.</span></div><h3  class = 'S8'><span>Other class methods</span></h3><div  class = 'S1'><span>The </span><span style=' font-family: monospace;'>QMol_SE_profiler</span><span> class also defines the following static methods restricted to QMol-grid classes (</span><span style=' font-family: monospace;'>Access=?QMol_suite</span><span>)</span></div><h4  class = 'S12'><span style=' font-family: monospace;'>getMemoryFootprint</span></h4><div  class = 'S1'><span>Get the memory footprint of an array with N elements with</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S3'><span style="white-space: pre"><span >m = QMol_SE_profiler.getMemoryFootprint(N,</span><span style="color: #a709f5;">'real'</span><span >);   </span><span style="color: #008013;">% Real-valued array</span></span></div></div><div class="inlineWrapper"><div  class = 'S4'><span style="white-space: pre"><span >m = QMol_SE_profiler.getMemoryFootprint(N,</span><span style="color: #a709f5;">'imag'</span><span >);   </span><span style="color: #008013;">% Complex array</span></span></div></div></div><ul  class = 'S5'><li  class = 'S6'><span>The output m is in bytes</span></li></ul><h4  class = 'S12'><span style=' font-family: monospace;'>showMemoryFootprint</span></h4><div  class = 'S1'><span>Print out the estimated memory footprint of a component with</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S7'><span style="white-space: pre"><span >QMol_SE_profiler.showMemoryFootprint(msg,mem,lvl)</span></span></div></div></div><ul  class = 'S5'><li  class = 'S6'><span style=' font-family: monospace;'>msg</span><span> is a character array with the description of the component being displayed (see </span><a href = "#M_0CCA27CF"><span>example above</span></a><span>).</span></li><li  class = 'S6'><span style=' font-family: monospace;'>mem</span><span> is the estimated memory footprint for the component, </span><span style=' text-decoration: underline;'>in bytes</span><span>. The value will automatically be converted to KB, MB, GB, or TB as needed. If </span><span style=' font-family: monospace;'>mem</span><span> is </span><span style=' font-family: monospace;'>0</span><span>, </span><span style=' font-family: monospace;'>NaN</span><span>, or </span><span style=' font-family: monospace;'>Inf</span><span>, no memory values is printed out (just the message, see </span><a href = "#M_0CCA27CF"><span>example above</span></a><span>).</span></li><li  class = 'S6'><span style=' font-family: monospace;'>lvl = 1</span><span> or </span><span style=' font-family: monospace;'>lvl = 2</span><span>, specifies the indentation level for the component (see </span><a href = "#M_0CCA27CF"><span>example above</span></a><span>). If no level is specified, default </span><span style=' font-family: monospace;'>lvl = 1</span><span> is used.</span></li></ul><h2  class = 'S2'><span>Notes</span></h2><div  class = 'S1'><span>The results displayed in this documentation page were generated using version 01.21 of the QMol-grid package.</span></div><ul  class = 'S5'><li  class = 'S6'><span style=' font-family: monospace;'>QMol_SE_profiler</span><span> was intorduced in version 01.20</span></li></ul>
<br>
<!-- 
##### SOURCE BEGIN #####
%% |QMol_SE_profiler|
% Memory and execution-time profiler for Schrodinger-equation models.
%% Description
% Use |QMol_SE_profiler| to estimate the memory footprint and execution time 
% of a Schrodinger-equation (SE) model or component.
%% Use
% Run the memory and execution-time profiling with either

QMol_SE_profiler(QM);
QMol_SE_profiler(QM,'all');
%% 
% * |QM| is any of a (TD)SE model or potential objects.
% * The requirements and side effects as for both memory-only and execution-time-only 
% modes detailed next.
% * Note that for TDSE object only the memory footprint, and not the execution 
% time, is estimated.
%% 
% Run only the memory profiling component with

QMol_SE_profiler(QM,'memory');
%% 
% * _Schrodinger-equation model case:_ If |QM| is a SE model object (<./QMol_SE.html 
% |QMol_SE|>), it should define a proper discretization domain (explicitly or 
% implicitly) and potential; However, it does not need to be initialized before 
% running the memory profiling. The memory profiling uses the object's |getMemoryProfile| 
% method and has its side effects: all the Schrodinger-equation-model properties 
% are left unchanged while run-time properties may be altered. Notably, if the 
% object was not initialized (|isInitialized = false|), |getMemoryProfile| |reset|s 
% the object.
% * _Schrodinger-equation component case:_ If |QM| is a potential object, it 
% must be initialized (with a SE component REPLACE_WITH_DASH_DASH see the respective documentation 
% pages for details).
% * _TDSE propagator case:_ if QM is a TDSE propagator object, it should define 
% a full Schrodinger-equation model, which is initialized before performing the 
% memory profiling. 
% * In all cases, not all the listed components may be used in actual simulations 
% and the memory estimate tries to be conservative. On the other hand, it only 
% includes the discretization of member components on the domain grid and ignores 
% other (small) properties.
%% 
% Run only the execution-time profiling component with

QMol_SE_profiler(QM,'time');
%% 
% * _Schrodinger-equation model case:_ If |QM| is a SE model object (<./QMol_SE.html 
% |QMol_SE|>), it should define a proper discretization domain (explcitly or implicitly) 
% and potential; However, it does not need to be initialized before running the 
% memory profiling. The execution-time profiling initializes the object and returns 
% it initialized.
% * _Schrodinger-equation component case:_ If |QM| is a potential object, it 
% must be initialized (with a SE component REPLACE_WITH_DASH_DASH see the respective documentation 
% pages for details). The execution-time profiling initialized the parent SE component 
% (|QM.SE.initialize|).
% * _TDSE propagator case:_ no execution time profiling is available for TDSE 
% propagators. Run an actual TDSE propagation (over a short time interval) to 
% get an estimate.
%% 
% The execution-time profiling is performed by running each listed operation 
% a certain number of times and retunrs the average elapsed time to do so. The 
% default number of iterations is defined internally based on the dimension of 
% the model. Overwrite this default values and specify the number of iterations 
% |nbIter| with

QMol_SE_profiler(QM,'all',nbIter);     % Both memory and time profiling
QMol_SE_profiler(QM,'time',nbIter);    % Execution-time profiling only
%% Examples
% Schrodinger-equation model
% Create a Schrodinger-equation model with

% Domain
x   =   -200:.1:150;

% Molecular model
A1  =   QMol_Va_softCoulomb('name','atom 1','charge',3,'position',-3);
A2  =   QMol_Va_softCoulomb('name','atom 2','charge',3,'position',0);
A3  =   QMol_Va_softCoulomb('name','atom 3','charge',3,'position',2);

% Schrodinger-equation model
V   =   QMol_SE_V('atom',{A1,A2,A2});

SE  =   QMol_SE(                        ...
            'xspan',                x,  ...
            'numberWavefunction',   4,  ...
            'potential',            V);
%% 
% Run a full (memory + execution-time) profiling

QMol_SE_profiler(SE);
%% 
% yielding
%%
% 
%  === Memory footprint =====================================================
%    Components                                                    REPLACE_WITH_DASH_DASH Size REPLACE_WITH_DASH_DASH
%    * Domain discretization                                        
%      > domain                                                       27.4 KB
%      > gradient                                                     54.7 KB
%      > Laplacian                                                    27.4 KB
%      > Laplacian (velocity gauge)                                   54.7 KB
%    * Wave function(s)                                              218.8 KB
%    * Potential                                                    
%      > potential                                                    27.4 KB
%      > potential gradient                                           27.4 KB
%                                                                  REPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASH
%                                                          TOTAL =   437.6 KB
%  
%  === Execution time =======================================================
%    Operator components                                           REPLACE_WITH_DASH_DASH Time REPLACE_WITH_DASH_DASH
%    * Hamiltonian                                  4 x 2.23e-04 = 8.92e-04 s
%  
%    * Kinetic                                      4 x 2.06e-04 = 8.22e-04 s
%    * Potential                                    4 x 2.05e-05 = 8.20e-05 s
%                                                                  REPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASH
%                                                          TOTAL = 9.04e-04 s
%  
%    (average times over 500 iterations)
%  
%  ##########################################################################
%
%% Test suite
% Run the test suite for the class in normal or <./Test_suite.html summary mode> 
% respectively with

QMol_test.test('SE_profiler');
QMol_test.test('-summary','SE_profiler');
%% For developers
% |QMol_SE_profiler| hard-codes the size of double-precision floats, which seem 
% to be fixed to 8-bits per MATLAB documentation. If this comes to change, the 
% values need be updated in the |getMemoryFootprint| method.
% Other class methods
% The |QMol_SE_profiler| class also defines the following static methods restricted 
% to QMol-grid classes (|Access=?QMol_suite|)
% |getMemoryFootprint|
% Get the memory footprint of an array with N elements with

m = QMol_SE_profiler.getMemoryFootprint(N,'real');   % Real-valued array
m = QMol_SE_profiler.getMemoryFootprint(N,'imag');   % Complex array
%% 
% * The output m is in bytes
% |showMemoryFootprint|
% Print out the estimated memory footprint of a component with

QMol_SE_profiler.showMemoryFootprint(msg,mem,lvl)
%% 
% * |msg| is a character array with the description of the component being displayed 
% (see example above).
% * |mem| is the estimated memory footprint for the component, in bytes. The 
% value will automatically be converted to KB, MB, GB, or TB as needed. If |mem| 
% is |0|, |NaN|, or |Inf|, no memory values is printed out (just the message, 
% see example above).
% * |lvl = 1| or |lvl = 2|, specifies the indentation level for the component 
% (see example above). If no level is specified, default |lvl = 1| is used.
%% Notes
% The results displayed in this documentation page were generated using version 
% 01.21 of the QMol-grid package.
%% 
% * |QMol_SE_profiler| was intorduced in version 01.20
##### SOURCE END #####
-->
</div></body></html>